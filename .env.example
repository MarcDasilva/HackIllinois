# ─── Solana RPC & Wallet ───────────────────────────────────────────────────────
# Devnet RPC endpoint (default: https://api.devnet.solana.com)
SOLANA_RPC_URL=https://api.devnet.solana.com

# Path to payer keypair JSON (default: ~/.config/solana/id.json)
SOLANA_KEYPAIR_PATH=~/.config/solana/id.json

# ─── Oracle Settings ──────────────────────────────────────────────────────────
# How often to snapshot + commit, in milliseconds (default: 5000)
ENTROPY_INTERVAL_MS=5000

# Optional override: comma-separated token account public keys.
# If left blank, the oracle reads from Supabase token_accounts table.
TOKEN_ACCOUNTS=

# ─── Dry-run Mode ─────────────────────────────────────────────────────────────
# Set to "true" to compute entropy but NOT submit a transaction.
DRY_RUN=false

# ─── Supabase ─────────────────────────────────────────────────────────────────
# Project URL — find at: Supabase Dashboard → Project Settings → API
SUPABASE_URL=https://your-project-ref.supabase.co

# Service role key (NOT the anon key — service role bypasses RLS for backend use)
# Find at: Supabase Dashboard → Project Settings → API → service_role (secret)
SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Table to read document IDs from (default: documents)
SUPABASE_TABLE=documents

# Primary key column name in that table (default: id)
SUPABASE_ID_COLUMN=id

# Max rows to fetch per tick (default: 1000)
SUPABASE_LIMIT=1000

# Token account source table (default: token_accounts)
SUPABASE_TOKEN_TABLE=token_accounts

# Token account pubkey column name (default: pubkey)
SUPABASE_TOKEN_COLUMN=pubkey

# Max token accounts to read each tick (default: 100)
SUPABASE_TOKEN_LIMIT=100

# ─── Google Drive OAuth 2.0 ───────────────────────────────────────────────────
# Create an OAuth 2.0 client at:
#   https://console.cloud.google.com/apis/credentials
# Enable the Google Drive API for your project first.

# OAuth 2.0 client ID (from Google Cloud Console → Credentials)
GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com

# OAuth 2.0 client secret
GOOGLE_CLIENT_SECRET=GOCSPX-your-client-secret

# Redirect URI — must be registered in Google Cloud Console → Credentials → Authorized redirect URIs
# Example for local dev:
GOOGLE_REDIRECT_URI=http://localhost:3000/oauth/callback

# After a successful OAuth flow, redirect the user here (optional).
# If unset, the callback returns a JSON response instead.
OAUTH_SUCCESS_REDIRECT=

# ─── HTTP Server ──────────────────────────────────────────────────────────────
# Port for the Drive transfer API server (default: 3000)
SERVER_PORT=3000

# ─── LAVA Hardening (PDF / Image) ─────────────────────────────────────────────
# Backend runs pdf_hardener.py and (optional) image_hardener.py from repo root.
# Create Supabase Storage bucket "uploads" (private) for file_ids flow:
#   Dashboard → Storage → New bucket → name: uploads, private.
# Frontend uses NEXT_PUBLIC_LAVA_API_URL to call hardening endpoints.
# Set in frontend/.env e.g. NEXT_PUBLIC_LAVA_API_URL=http://localhost:3000
